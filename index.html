<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>NyashGram</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;500;700&family=Fredoka:wght@400;500;600&family=Nunito:wght@400;500;600&family=Quicksand:wght@400;500;600&family=Kosugi+Maru&family=M+PLUS+Rounded+1c:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>

<div id="app">

  <!-- –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
<section id="phoneLoginScreen" class="screen center" style="display: none;">
  <h1>NyashGram ü©∑</h1>
  <p>–í—Ö–æ–¥ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>

  <div style="display:flex; gap:8px; margin:20px 0;">
    <select id="countryCode" style="padding:10px; font-size:16px;">
      <option value="+7">+7 –†–æ—Å—Å–∏—è</option>
      <option value="+380">+380 –£–∫—Ä–∞–∏–Ω–∞</option>
      <option value="+375">+375 –ë–µ–ª–∞—Ä—É—Å—å</option>
      <option value="+1">+1 –°–®–ê/–ö–∞–Ω–∞–¥–∞</option>
    </select>
    <input type="tel" id="phoneInput" placeholder="999 999 99 99" style="flex:1; padding:10px; font-size:16px;" />
  </div>

  <button id="sendCodeBtn" style="padding:12px 24px; font-size:18px;">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>

  <div id="codeSection" style="display:none; margin-top:20px;">
    <input type="text" id="codeInput" placeholder="–ö–æ–¥ –∏–∑ SMS" maxlength="6" style="padding:10px; font-size:18px; width:120px; text-align:center;" />
    <button id="verifyCodeBtn" style="padding:12px 24px; font-size:18px;">–í–æ–π—Ç–∏</button>
  </div>

  <div id="recaptcha-container" style="margin-top:20px;"></div>
</section>

  <!-- SETTINGS -->
  <section id="settingsScreen" class="screen">
    <header class="top-bar">
      <button id="settingsBackBtn">‚Üê</button>
      <div class="top-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
    </header>

    <div style="padding:16px; display:flex; flex-direction:column; gap:16px">
      <label>
        –ù–∏–∫–Ω–µ–π–º
        <input id="settingsName">
      </label>

      <label>
        –ê–≤–∞—Ç–∞—Ä–∫–∞
        <input type="file" id="avatarInput" accept="image/*">
        <div style="margin-top:8px;">
          <div id="avatarPreview" class="avatar" style="width:80px; height:80px; margin:0 auto;"></div>
        </div>
      </label>

      <label>
        –¢–µ–º–∞
        <select id="themeSelect">
          <option value="pastel-pink">Pastel Pink ü©∑</option>
          <option value="milk-rose">Milk Rose üå∏</option>
          <option value="night-blue">Night Blue üåô</option>
          <option value="lo-fi-beige">Lo-Fi Beige ‚òï</option>
          <option value="soft-lilac">Soft Lilac üíú</option>
        </select>
      </label>

      <label>
        –®—Ä–∏—Ñ—Ç
        <select id="fontSelect">
          <option value="system">System</option>
          <option value="rounded">Rounded</option>
          <option value="cozy">Cozy</option>
          <option value="elegant">Elegant</option>
          <option value="bold-soft">Bold Soft</option>
          <option value="mono-cozy">Mono Cozy</option>
        </select>
      </label>

      <button id="saveSettingsBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </section>

  <!-- CONTACTS -->
  <section id="contactsScreen" class="screen">
    <header class="top-bar">
      <button id="settingsBtn">‚öôÔ∏è</button>
      <div class="top-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
    </header>
    <div id="contactsList"></div>
  </section>

  <!-- CHAT -->
  <section id="chatScreen" class="screen">
    <header class="top-bar">
      <button id="backBtn">‚Üê</button>
      <div class="chat-header">
        <div id="chatAvatar" class="avatar"></div>
        <div>
          <div id="chatName"></div>
          <div id="chatStatus" class="status"></div>
        </div>
      </div>
    </header>

    <div id="chatIntro" class="chat-intro">
  <div class="intro-title">‚ú® –ù–∞—á–Ω–∏ –æ–±—â–µ–Ω–∏–µ ‚ú®</div>
  <div class="intro-buttons">
    <button>–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?</button>
    <button>–ß–µ–º –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è?</button>
    <button>–•–æ—á–µ—à—å –ø–æ–±–æ–ª—Ç–∞—Ç—å?</button>
    <button>–ö–∞–∫–æ–π –≤–∞–π–± —Å–µ–≥–æ–¥–Ω—è?</button>
  </div>
</div>

    <div id="messages"></div>

    <div class="input-bar">
      <input id="messageInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
      <button id="sendBtn">‚û§</button>
    </div>
  </section>

</div>

<script src="app.js"></script>
<script src="contacts.js"></script>
<script src="chat.js"></script>
<script type="module">
  import { auth, db, storage } from './firebase.js';
  window.auth = auth;
  window.db = db;
  window.storage = storage;
</script>
</body>
</html>