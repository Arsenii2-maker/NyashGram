<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>NyashGram</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;500;700&family=Fredoka:wght@400;500;600&family=Nunito:wght@400;500;600&family=Quicksand:wght@400;500;600&family=Kosugi+Maru&family=M+PLUS+Rounded+1c:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>

<div id="app">

  <!-- –≠–ö–†–ê–ù –í–í–û–î–ê –ù–û–ú–ï–†–ê –¢–ï–õ–ï–§–û–ù–ê -->
  <section id="phoneLoginScreen" class="screen center">
    <h1>NyashGram ü©∑</h1>
    <p>–í—Ö–æ–¥ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>

    <div style="display:flex; gap:8px; margin:20px 0; max-width:400px;">
      <select id="countryCode" style="padding:12px; font-size:16px;">
        <option value="+7">+7 –†–æ—Å—Å–∏—è</option>
        <option value="+380">+380 –£–∫—Ä–∞–∏–Ω–∞</option>
        <option value="+375">+375 –ë–µ–ª–∞—Ä—É—Å—å</option>
        <option value="+1">+1 –°–®–ê/–ö–∞–Ω–∞–¥–∞</option>
      </select>
      <input type="tel" id="phoneInput" placeholder="999 999 99 99" style="flex:1; padding:12px; font-size:16px;" />
    </div>

    <button id="sendCodeBtn" style="padding:12px 32px; font-size:18px;">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>

    <div id="codeSection" style="display:none; margin-top:20px;">
      <input type="text" id="codeInput" placeholder="–ö–æ–¥ –∏–∑ SMS" maxlength="6" style="padding:12px; font-size:18px; width:140px; text-align:center;" />
      <button id="verifyCodeBtn" style="padding:12px 32px; font-size:18px;">–í–æ–π—Ç–∏</button>
    </div>

    <div id="recaptcha-container" style="margin-top:20px;"></div>
  </section>

  <!-- –≠–ö–†–ê–ù –ü–†–û–§–ò–õ–Ø -->
  <section id="profileScreen" class="screen center" style="display:none;">
    <h1>–°–æ–∑–¥–∞–π –ø—Ä–æ—Ñ–∏–ª—å</h1>

    <input type="text" id="displayName" placeholder="–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?" style="padding:12px; width:80%; max-width:400px; margin:16px 0;" />

    <div class="avatar-upload" style="margin:20px 0;">
      <label for="avatarInput">
        <div id="avatarPreview" class="avatar-preview" style="width:120px; height:120px; background:#ff9acb; border-radius:50%; margin:0 auto; display:flex; align-items:center; justify-content:center; font-size:40px; color:white;">+</div>
        <p style="margin-top:8px;">–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</p>
      </label>
      <input type="file" id="avatarInput" accept="image/*" style="display:none;" />
    </div>

    <button id="saveProfileBtn" style="padding:12px 32px; font-size:18px;">–ì–æ—Ç–æ–≤–æ!</button>
  </section>

  <!-- SETTINGS -->
  <section id="settingsScreen" class="screen" style="display:none;">
    <!-- —Ç–≤–æ–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  </section>

  <!-- CONTACTS -->
  <section id="contactsScreen" class="screen" style="display:none;">
    <!-- —Ç–≤–æ–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
  </section>

  <!-- CHAT -->
  <section id="chatScreen" class="screen" style="display:none;">
    <!-- —Ç–≤–æ–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —á–∞—Ç–∞ -->
  </section>

</div>

<script src="app.js"></script>
<script src="contacts.js"></script>
<script src="chat.js"></script>
<script type="module">
  import { auth, db, storage } from './firebase.js';
  window.auth = auth;
  window.db = db;
  window.storage = storage;
</script>
</body>
</html>